if(typeof SNAP_COM=="undefined"){SNAP_COM={};}SNAP_COM.timer_obj=function(){var t={events:{},on:false,logged:false,el:null,id:null,reset:function(){this.events={};},set_id:function(id){this.id=id;},enabled:function(on){this.on=on?true:false;},mark:function(_4){if(!this.on){return;}this.events[_4]=(new Date()).getTime();},sequence:function(){var i,len,start,marks=[],seq={};if(!this.on){return undefined;}for(i in this.events){if(this.events.hasOwnProperty(i)){marks.push(i);}}var _6=this.events;function mark_sort(a,b){return _6[a]-_6[b];}marks.sort(mark_sort);start=this.events[marks[0]];len=marks.length;for(i=0;i<len;i++){seq[marks[i]]=(this.events[marks[i]]-start);}return seq;},log:function(_9){var i,id,src,t;if(!this.on||this.logged||!this.events.show){return;}var _b={"mouseover":"a","mouseout":"b","show":"c","hide":"d","doubleclick_start":"e","doubleclick_end":"f","preview_start":"g","preview_end":"h","rss_check_start":"i","rss_check_end":"j","shot_iframe_start":"k","shot_iframe_end":"l","marea_start":"m","marea_end":"n","shotsense_start":"o","shotsense_end":"p","click":"q"};var _c=this.sequence();var _d="";for(i in _b){if(_b.hasOwnProperty(i)&&_c[i]!==undefined){_d+=_b[i]+_c[i];}}src=_9.cfg.prefix.image+"snip/tmr/"+_d+"/"+this.id+"/"+_9.cfg.key+"/"+_9.cfg.dfs+"/tmr";id="snap_com_shot_tmr_img";t=document.getElementById(id);if(!t){t=document.createElement("img");t.id=id;t.style.position="absolute";t.style.visiblility="hidden";t.style.zIndex="0";t.src=src;_9.div.main.insertBefore(t,null);}else{t.src=src;}this.logged=true;}};return t;};SNAP_COM.snap_shot_obj=function(){var t={};t={div:null,timer_id:null,div_added:null,current_element:null,current_url:null,current_tag:null,current_orientation:"lr",other_bubbles:new Array,thumbnail_precrawl_list:new Array,num_precrawl_sent:0,retry_url_list:{},body_loaded:false,init:function(){var i,el,m,val;this.div={};this.observer_array=new Array;this.timer_id={show:null,partial:null,prefetch:null};this.div_added=false;this.current_element=null;this.current_url=null;this.view={id:null,time:null,confirm:false};this.imp={icon:0,link:0,auto:0};this.cfg=SNAP_COM.shot_config;this.long_hide=false;this.autoshot_tag_exclude_re=/^(a|area|h\d+|noscript|script|style|head|option|applet|code|link|input|map|textarea)$/i;this.first_scan=true;this.as_id_count=0;this.shotsense_shown=0;this.tmr=new SNAP_COM.timer_obj();this.tmr_on=(Math.random()<this.cfg.srate.tmr)?true:false;this.pre_tmr;this.marea={fb_arg:"",fb_src:null,beacon:null,ad_beacon:null,call:null};if(this.cfg.shots_domain_match){val=this.cfg.shots_domain_match.replace(/[^-\w\.]/g,"");this.is_internal_re=new RegExp("^(http|file)s?://.*"+val+"/");}else{m=document.location.href.match(/^(http|file)s?:\/\/(www\.)?(.*?)\//);this.is_internal_re=new RegExp("^(http|file)s?://(www.)?"+m[3]+"/");}if(this.cfg.rtl){for(i in this.cfg.rtl_css_pos){var obj=this.cfg.rtl_css_pos[i];if(this.cfg.css_pos[obj].x!=undefined&&this.cfg.css_pos[obj].x!=null){this.cfg.css_pos[obj].xr=this.cfg.css_pos[obj].x;this.cfg.css_pos[obj].x=null;}else{if(this.cfg.css_pos[obj].xr!=undefined&&this.cfg.css_pos[obj].xr!=null){this.cfg.css_pos[obj].x=this.cfg.css_pos[obj].xr;this.cfg.css_pos[obj].xr=null;}}}}if(!this.cfg.rich_shot_re){this.cfg.rich_shot_re=["."];}this.preview_re=new RegExp("("+this.cfg.rich_shot_re.join("|")+")","i");this.rich_shot_exceptions_re=new RegExp("("+this.cfg.rich_shot_exceptions+")","i");this.photo_shot_re=new RegExp("("+this.cfg.photo_shot_re.join("|")+")","i");this.url_exclude_re=new RegExp("^https?://("+this.cfg.url_exclude_re.join("|")+")","i");if(SNAP_COM.window_loaded){this.onload();return;}this.observe(window,"load",this.onload);if(this.cfg.check_defer){el=document.getElementById("snap_preview_anywhere");if(!el||!el.defer){return;}}if(document.defaultView&&document.defaultView.getComputedStyle){this.getStyle=this.getStyleW3C;}else{if(document.documentElement.currentStyle&&this.isIE){this.getStyle=this.getStyleIE;}}this.timer_id.partial=this.later(this.cfg.partial_check.delay,this.partial_check);if(this.cfg.plugin){SNAP_COM.clientActive=true;}},autoshot_init:function(_11){var i,len,m,asm,res=[],el,as_cfg=this.cfg.auto_shot,as=SNAP_COM.autoshot;if(!as_cfg.list_tid===undefined){as_cfg.list_tid={};}if(!as_cfg.color&&as_cfg.color_opt=="site"){el=document.getElementsByTagName("a");if(el.length){el=el[0];as_cfg.color=this.getStyle(el,"color");}}if(!as_cfg.timestamp){as_cfg.timestamp=0;}if(SNAP_COM.autoshot_inspect){if(!as){as={};}if(!as.Results){as.Results={};}if(!as.Results.Matches){as.Results.Matches=[];}as.Results.Matches=as.Results.Matches.concat(SNAP_COM.autoshot_inspect);}if(as&&as.Results&&as.Results.Matches){len=as.Results.Matches.length;for(i=0;i<len;i++){m=as.Results.Matches[i].Match;if(!as_cfg.inspect&&m.inspect){continue;}if(!m.link&&m.svc.match(/\bsnap_shots?_custom/i)){m.link=true;}asm={"re":new RegExp(m.pat,"i"),"pat":m.pat,"type":m.svc,"value":m.tag,"trigger":"both","tid":m.tid,"eid":m.eid,"link":m.link,"found":0,"gfound":0,"active":0,"limit":((m.limit!==undefined)?m.limit:1),"inspect":((m.inspect||as_cfg.inspect_all)?1:0),"testset":m.testset?1:0};if(as_cfg.list_tid[m.tid]!==undefined){if(m.inspect){as_cfg.list[as_cfg.list_tid[m.tid]].testset=1;}else{as_cfg.list[as_cfg.list_tid[m.tid]]=asm;}}else{as_cfg.list_tid[m.tid]=as_cfg.list.length;as_cfg.list.push(asm);}if(!as_cfg.timestamp&&m.timestamp){as_cfg.timestamp=m.timestamp;}}SNAP_COM.autoshot=undefined;}len=as_cfg.list.length;for(i=0;i<len;i++){res.push(as_cfg.list[i].pat);}if(res.length){this.autoshot_re=new RegExp("("+res.join("|")+")","ig");}else{this.autoshot_re=undefined;}if(_11&&!this.cfg.partial_check.attempts&&this.body_loaded){this.add_main_div();this.shot_scan();}},later:function(_13,_14){var _15=this;var _16=Array.prototype.slice.apply(arguments,[2]);return this.sto(function(){_14.apply(_15,_16);},_13);},observe:function(_17,_18,_19){var _1a=this;var _1b=Array.prototype.slice.apply(arguments,[3]);_1b.unshift(undefined);var f=function(ev){_1b[0]=ev;_19.apply(_1a,_1b);};var _1e;if(_17.addEventListener){if(_18=="mousewheel"){_18="DOMMouseScroll";}_17.addEventListener(_18,f,false);}else{if(_17.attachEvent){_17.attachEvent("on"+_18,f);}}this.observer_array.push({"element":_17,"name":_18,"method":f});},unobserve_all:function(){var _1f=this.observer_array.length;for(var i=0;i<_1f;i++){var _21=this.observer_array.pop();if(_21.element.removeEventListener){_21.element.removeEventListener(_21.name,_21.method,false);}else{if(_21.element.detachEvent){_21.element.detachEvent("on"+_21.name,_21.method);}}}},el_prop:function(_22,key,_24){if(_24!==undefined){if(!_22.snap_com_shot){_22.snap_com_shot={};}_22.snap_com_shot[key]=_24;}try{return _22.snap_com_shot&&_22.snap_com_shot[key];}catch(e){return null;}},now:function(){return (new Date()).getTime();},clear_timer:function(_25){if(this.timer_id[_25]){clearTimeout(this.timer_id[_25]);this.timer_id[_25]=0;}},campaign:function(_26){return _26;},is_internal_link:function(_27){var _28,regex;if(_27.href.match(this.is_internal_re)){if(this.cfg.redirect_param){_28="[\\?&]"+this.cfg.redirect_param+"=([^&#]*)";regex=new RegExp(_28);if(regex.exec(_27.href)===null){return true;}else{return false;}}else{return true;}}else{return false;}},is_valid_link:function(_29){var _2a=_29.href.match(/^(http)s?:\/\/([^#]*)/);var _2b=document.location.href.match(/^(http|file)s?:\/\/([^#]*)/);if(!_2a||!_2b||(_2a[2]==_2b[2])||(_2a[1]!=="http")){return false;}return true;},add_link_icon:function(el){var _2d=this.div.link_icon.cloneNode(false);_2d.style.verticalAlign="top";_2d.style.display="inline";_2d.style.visibility="visible";_2d.style.zIndex=el.style.zIndex;this.el_prop(_2d,"activated",true);this.el_prop(_2d,"is_link_icon",true);this.el_prop(_2d,"shot_parent",el);this.el_prop(el,"link_icon",_2d);if(this.el_prop(el,"markup")&&(el.style.visibility=="hidden"||el.style.display=="none")){el.parentNode.insertBefore(_2d,el.nextSibling);}else{el.appendChild(_2d);}return _2d;},activate:function(el){var _2f,trigger,icon;if(this.el_prop(el,"done")){return;}_2f=el.childNodes;var _30=false;for(var i=0;i<_2f.length;i++){var n=_2f[i];if(n.nodeType==3){var _33=n.nodeValue;_33=_33.replace(/[ \t\r\n]/g,"");if(_33.length!=0){_30=true;}}else{if(n.tagName!="IMG"){_30=true;}}}if(el.tagName.match(/^AREA$/i)||!_30){this.el_prop(el,"trigger","link");}switch(this.el_prop(el,"trigger")){case "both":trigger=el;this.add_link_icon(el);this.imp.icon++;this.imp.link++;break;case "icon":trigger=this.add_link_icon(el);this.imp.icon++;break;default:trigger=el;this.imp.link++;break;}this.el_prop(trigger,"activated",true);if(this.cfg.observe_event=="link"){this.observe(trigger,"mouseover",this.show_delay,this.cfg.delay.show,this.cfg.delay.move);this.observe(trigger,"mouseout",this.hide_delay,this.cfg.delay.hide);this.observe(trigger,"click",this.hide_delay,0);}this.el_prop(el,"done",true);},conditional_activate:function(el,_35){if(this.el_prop(el,"done")||!this.is_valid_link(el)){this.el_prop(el,"done",true);return false;}if(_35.shot[0]&&el.href.indexOf("https://")==-1&&!el.href.match(this.url_exclude_re)&&(this.cfg.show_internal||!this.is_internal_link(el))){this.activate(el);return true;}else{}return false;},autoshot_match:function(_36,_37){var as,m,i,len;var _39=[];if(!this.autoshot_re){return _39;}this.autoshot_re.lastIndex=0;len=this.cfg.auto_shot.list.length;while((m=this.autoshot_re.exec(_36))!=null){for(i=0;i<len;i++){as=this.cfg.auto_shot.list[i];if(as.re.test(m[1])){if(_37){as.gfound++;}else{_39.push({"pos":(this.autoshot_re.lastIndex-m[1].length),"len":m[1].length,"text":m[1],"as":as});}break;}}}return _39;},autoshot_add:function(_3a,_3b){var i,len,as,en,nn,tn,nv,m,matches,nv_last,icon,shot_data;if(_3a.nodeType!=3||!_3b.in_body[0]||_3b.activated[0]||!_3b.autoshot_ok[0]||!this.autoshot_re){return _3a;}if(!this.cfg.auto_shot.inspect&&this.imp.auto>=this.cfg.auto_shot.limit){return _3a;}nv=_3a.nodeValue;nv_last=0;matches=this.autoshot_match(nv);len=matches.length;for(i=0;i<len;i++){m=matches[i];m.as.found++;if(this.imp.auto<this.cfg.auto_shot.limit&&!m.as.inspect&&m.as.active<m.as.limit){m.as.active++;this.imp.auto++;if(m.as.trigger=="both"){_3a.nodeValue=nv.substr(nv_last,(m.pos-nv_last));}else{_3a.nodeValue=nv.substr(nv_last,(m.pos-nv_last+m.len));}nv_last=m.pos+m.len;en=document.createTextNode(nv.substr(nv_last));_3a.parentNode.insertBefore(en,_3a.nextSibling);nn=document.createElement("span");nn.className=m.as.type;nn.style.display="none";nn.innerHTML=" "+m.as.value+" ";this.el_prop(nn,"auto",true);this.el_prop(nn,"markup",true);this.el_prop(nn,"trigger",m.as.trigger);this.el_prop(nn,"autoshot_data",{pattern:m.text,eid:m.as.eid||"",tid:m.as.tid||""});_3a.parentNode.insertBefore(nn,_3a.nextSibling);this.activate(nn);icon=this.el_prop(nn,"link_icon");if(icon){icon.id="snap_com_shot_engage_icon_"+this.as_id_count;this.activate(icon);}if(m.as.trigger=="both"){if(m.as.link){tn=document.createElement("a");if(m.as.link===true){shot_data=this.get_shot_data(icon);tn.href=this.cfg.prefix.preview+"explore/"+Math.floor((Math.random()*100000))+"/?key="+this.cfg.key+"&svc="+encodeURIComponent(shot_data.svc)+"&tag="+encodeURIComponent(shot_data.tag)+"&src="+encodeURIComponent(this.cfg.source)+"&cp="+this.cfg.campaign+"&tol=engage";}else{tn.href=m.as.link;}this.observe(tn,"mouseup",this.link_click);this.observe(tn,"click",this.link_click);tn.style.cursor="pointer";}else{tn=document.createElement("span");tn.style.cursor="default";}if(this.cfg.auto_shot.color){tn.style.color=this.cfg.auto_shot.color;}else{if(_3a.parentNode){tn.style.color=this.getStyle(_3a.parentNode,"color");}}tn.innerHTML=m.text;tn.style.textDecoration="none";tn.style.paddingBottom="0px";if(this.cfg.auto_shot.treatment){tn.style.borderBottom="1px "+this.cfg.auto_shot.treatment+" "+this.cfg.auto_shot.color;}tn.id="snap_com_shot_engage_span_"+this.as_id_count;this.activate(tn);this.el_prop(tn,"shot_parent",nn);this.el_prop(tn,"trigger","both");_3a.parentNode.insertBefore(tn,_3a.nextSibling);}this.as_id_count++;_3a=en;}}},scan_tree:function(_3d,_3e){var m,i,len,is_markup=false,is_link,nn,tn,nv,am,re,textnode_parent,prop={},next_node;if(_3d&&_3d.tagName){m=_3d.className.match(/(snap_\w+)/ig);if(m){len=m.length;for(i=0;i<len;i++){switch(m[i].toLowerCase()){case "snap_preview":case "snap_shot":case "snap_shots":if(prop.shot!==false){prop.shot=true;}break;case "snap_nopreview":case "snap_noshot":case "snap_noshots":prop.shot=false;break;case "snap_no_icon":prop.trigger="link";break;case "snap_trigger_icon":prop.trigger="icon";break;case "snap_trigger_both":prop.trigger="both";break;case "snap_noengage":prop.autoshot_ok=false;break;default:if(m[i].match(/snap_shots?_(?!attribute)/i)){is_markup=true;}break;}}}is_link=_3d.tagName.match(/^(A|AREA)$/i)?true:false;if(this.autoshot_tag_exclude_re.exec(_3d.tagName)){prop.autoshot_ok=false;}if(_3d.tagName.toLowerCase()=="body"){prop.in_body=true;}for(i in prop){if(prop.hasOwnProperty(i)&&prop[i]!==undefined){_3e[i].unshift(prop[i]);}}if((is_link||is_markup)&&!this.el_prop(_3d,"done")){this.el_prop(_3d,"trigger",_3e.trigger[0]);if(!this.cfg.rich_only||is_markup||(_3d.href&&!this.is_preview_url(_3d.href))){if(prop.shot===false){this.el_prop(_3d,"done",true);}else{if(is_markup){if(!is_link){this.el_prop(_3d,"trigger","icon");}this.el_prop(_3d,"markup",true);this.activate(_3d);prop.activated=true;}else{if(prop.shot===true){this.activate(_3d);prop.activated=true;}else{if(this.conditional_activate(_3d,_3e)){prop.activated=true;}}}}}if(this.cfg.thumbnail_precrawl==1){this.cfg.thumbnail_precrawl=10;}if(this.cfg.thumbnail_precrawl!=0&&_3d.href&&this.is_preview_url(_3d.href)&&prop.activated&&this.thumbnail_precrawl_list.length<this.cfg.thumbnail_precrawl&&(_3d.id==null||_3d.id.indexOf("snap_com_shot")==-1)){this.thumbnail_precrawl_list.push(_3d.href);}if(!prop.activated){this.el_prop(_3d,"trigger",false);}}if(this.el_prop(_3d,"trigger")){_3e.activated.unshift(true);prop.activated=true;}}textnode_parent=undefined;_3d=_3d.firstChild;while(_3d){next_node=_3d.nextSibling;if(_3d.nodeType==3&&_3d.parentNode&&this.autoshot_re&&!this.el_prop(_3d.parentNode,"autoshot_done")){this.autoshot_add(_3d,_3e);textnode_parent=_3d.parentNode;}else{this.scan_tree(_3d,_3e);}_3d=next_node;}if(textnode_parent&&!this.cfg.auto_shot.rescan){this.el_prop(textnode_parent,"autoshot_done",true);}for(i in prop){if(prop.hasOwnProperty(i)&&prop[i]!==undefined){_3e[i].shift();}}},shot_scan:function(_40){var i,len;if(!_40||_40==document){_40=document;}var _42={shot:[this.cfg.auto_preview],trigger:[],activated:[false],autoshot_ok:[true],in_body:[false]};var _43=_40;while(_43=_43.parentNode){if(_43.tagName){if(_43.tagName.toLowerCase()=="body"){_42.in_body[0]=true;}else{if(this.autoshot_tag_exclude_re.exec(_43.tagName)){_42.autoshot_ok[0]=false;}}}}if(SNAP_COM.autoshot){this.autoshot_init();}if(this.cfg.show_link_icon){_42.trigger.push(this.cfg.preview_trigger);}else{_42.trigger.push("link");}this.scan_tree(_40,_42);if(this.cfg.auto_shot.inspect){len=this.cfg.auto_shot.list.length;for(i=0;i<len;i++){this.cfg.auto_shot.list[i].gfound=0;}this.autoshot_match(this.get_inner_text(document.getElementsByTagName("html")[0]),true);}if(this.cfg.thumbnail_precrawl){this.sendPrecrawlList();}},partial_check:function(){var _44;var _45;var _46;var _47=0;var _48=this.cfg.partial_check.delay;if(this.cfg.rescan_after_load&&this.body_loaded){this.cfg.partial_check.attempts=1;_48=this.cfg.rescan_delay;}this.clear_timer("partial");if(this.cfg.partial_check.attempts<=0){return;}if(document.getElementsByTagName("body").length){if(!this.div_added){this.add_main_div();}_47=document.getElementsByTagName("*").length;if(_47!==this.last_partial_check_count){_44=this.now();this.shot_scan();_45=this.now()-_44;_47=document.getElementsByTagName("*").length;_46=_45*3;if(_46>10000){_46=10000;}_48+=_46;this.last_partial_check_count=_47;}if(this.first_scan){this.first_scan=false;}else{this.sample();}}this.timer_id.partial=this.later(_48,this.partial_check);this.cfg.partial_check.attempts--;},onload:function(){this.clear_timer("partial");this.cfg.partial_check.attempts=0;this.body_loaded=true;if(this.cfg.rescan_after_load){this.partial_check();}if(!this.div_added){this.add_main_div();}this.shot_scan();this.sample();},get_all_shot_nodes:function(_49,_4a,_4b){var els=_49.getElementsByTagName("*");for(var i=0;i<els.length;i++){if(els[i].id){var _4e=els[i].id.match(/^snap_com_shot_(\w+)/);if(_4e){_4a[_4e[1]]=els[i];}}}return _4a;},set_css:function(_4f){var s,i,c,el;var div=this.get_active_div(_4f);var cfg=this.get_active_cfg(_4f);for(el in div){if(!div[el]||!div.hasOwnProperty(el)){continue;}if(!div[el].style){continue;}s=div[el].style;s.margin="0 0 0 0";s.padding="0 0 0 0";s.border="0";s.fontStyle="normal";s.fontWeight="normal";s.fontFamily="\"trebuchet ms\", arial, helvetica, sans-serif";s.cssFloat="none";s.styleFloat="none";s.position="static";s.left="auto";s.top="auto";s.lineHeight="normal";s.backgroundImage="url("+cfg.prefix.cdn_image+"t.gif)";s.backgroundColor="transparent";s.zIndex=Number(s.zIndex)+(div.demoshot?0:99999);}var _53={x:"left",xr:"right",y:"top",yb:"bottom",w:"width",h:"height"};for(i in cfg.css_pos){if(!cfg.css_pos.hasOwnProperty(i)){continue;}var pos=cfg.css_pos[i];div[i].style.position="absolute";for(var _55 in _53){if(((typeof _53[_55])=="string")&&(pos[_55]!==null)&&(pos[_55]!==undefined)){div[i].style[_53[_55]]=pos[_55]+"px";}}}if(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat"){c=cfg.css_pos.preview_div;div.preview_div.style.width=(c.w+2)+"px";div.preview_div.style.height=(c.h+2)+"px";div.preview.style.width=(c.w+2)+"px";div.preview.style.height=(c.h+2)+"px";c=cfg.css_pos.img_a;div.img_a.style.width=(c.w+2)+"px";div.img_a.style.height=(c.h+2)+"px";div.option_menu.style.width="1px";}if(this.isIE){div.option_cancel.style.top="200px";div.option_cancel.style.height="20px";}if(document.compatMode&&document.compatMode=="CSS1Compat"){div.box.style.height=(cfg.css_pos.box.h-5)+"px";div.box.style.width=(cfg.css_pos.box.w-8)+"px";}for(i=0;i<cfg.t_img.length;i++){if(!cfg.t_img.hasOwnProperty(i)){continue;}div[cfg.t_img[i]].src=cfg.prefix.cdn_image+"t.gif";}div.loading_img.src=cfg.prefix.cdn_image+cfg.resize.img_sized[cfg.size]+"loading.gif";div.cobrand_img.src=cfg.img.cobrand;if(this.needs_png_fix){div.ribbon.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+cfg.prefix.cdn_image+"ribbon.png"+"',sizingMethod='scale')";}else{div.ribbon.src=cfg.prefix.cdn_image+"ribbon.png";}cfg.palette.zoom_img=(cfg.size=="large")?cfg.palette.zoom_img_minus:cfg.palette.zoom_img_plus;for(i in cfg.palette){if(!cfg.palette.hasOwnProperty(i)||!div[i]||cfg.palette[i]==null){continue;}s=div[i].style;s.backgroundColor="transparent";s.backgroundImage="url("+cfg.img.palette+")";s.backgroundPosition=cfg.palette[i].loc;s.backgroundRepeat="no-repeat";s.width=cfg.palette[i].w+"px";s.height=cfg.palette[i].h+"px";}div.box.style.padding="3px 0 0 6px";for(i in cfg.style){if(!cfg.style.hasOwnProperty(i)){continue;}for(var j in cfg.style[i]){if((typeof cfg.style[i][j])=="string"){if(!div[i]){continue;}div[i].style[j]=cfg.style[i][j];}}}this.opt_url=cfg.prefix.options+"options.php?source="+encodeURIComponent(cfg.source)+"&key="+cfg.key+"&sb="+(cfg.search_box?"1":"0")+"&lang="+cfg.lang+"&th="+cfg.theme+"&rtl="+cfg.rtl;div.option_button.alt=cfg.text.OptionsTooltip;div.option_button.title=cfg.text.OptionsTooltip;div.option_a.innerHTML=cfg.text.Options;div.option_a.alt=cfg.text.OptionsTooltip;div.option_a.title=cfg.text.OptionsTooltip;div.disable_a.innerHTML=cfg.text.Disable;div.option_close_a.alt="Close";div.option_close_a.title="Close";div.promo_a.innerHTML=cfg.text.GetFreePreviews;div.promo_a.alt=cfg.text.SignUpLink;div.promo_a.title=cfg.text.SignUpLink;div.logo_a.alt=cfg.text.SnapLogoTooltip;div.logo_a.title=cfg.text.SnapLogoTooltip;div.box.value=cfg.text.SearchTheWeb;div.zoom_img.title=(cfg.size=="large")?cfg.text.ReduceShotSize:cfg.text.EnlargeShotSize;div.ribbon.alt="Snap Shares for charity";div.ribbon.title="Portions of Snap Shares Ad Impressions on this site are donated to Charity";for(i=0;i<cfg.hidden.length;i++){if(!cfg.hidden.hasOwnProperty(i)){continue;}div[cfg.hidden[i]].style.visibility="hidden";}if((_4f==undefined)||SNAP_COM.shot.other_bubbles[_4f].demoshot){for(i=0;i<cfg.collapsed.length;i++){if(!cfg.collapsed.hasOwnProperty(i)){continue;}div[cfg.collapsed[i]].style.display="none";}}},add_main_div:function(){var i,el,shot=this;if(this.div_added){return;}var _58=document.getElementsByTagName("html")[0];_58.style.position="static";this.div.main=document.createElement("div");this.div.main.id="snap_com_shot_main";this.div.main.style.position="absolute";this.div.main.style.visibility="hidden";if(this.cfg.force!="yes"&&!this.isOpera&&!this.isSafari){this.div.main.style.top=0;this.sto(function(){if(shot.div.main.offsetTop!==0){shot.div.main.innerHTML="";}},0);}var _59=document.getElementsByTagName("body")[0];_59.insertBefore(this.div.main,_59.firstChild);this.div.main.className="snap_noengage";this.el_prop(this.div.main,"done",true);if(this.cfg.observe_event!="link"){this.observe(_59,"mouseover",this.show_delay,this.cfg.delay.show,this.cfg.delay.move);this.observe(_59,"mouseout",this.hide_delay,this.cfg.delay.hide);this.observe(_59,"click",this.hide_delay,0);}this.div_added=true;this.div.main.innerHTML="<img id=\"snap_com_shot_link_icon\" class=\"snap_preview_icon\" style=\"margin:0 !important\" src=\"__T_GIF__\" />\n<div id=\"snap_com_shot_bg_div_tl\"><img id=\"snap_com_shot_bg_img_tl\" src=\"__T_GIF__\" /></div>\n<div id=\"snap_com_shot_bg_div_tr\"><img id=\"snap_com_shot_bg_img_tr\" src=\"__T_GIF__\" /></div>\n<div id=\"snap_com_shot_bg_div_bl\"><img id=\"snap_com_shot_bg_img_bl\" src=\"__T_GIF__\" /></div>\n<div id=\"snap_com_shot_bg_div_br\"><img id=\"snap_com_shot_bg_img_br\" src=\"__T_GIF__\" /></div>\n<img id=\"snap_com_shot_bg_img_l\" src=\"__T_GIF__\" />\n<img id=\"snap_com_shot_bg_img_r\" src=\"__T_GIF__\" />\n<img id=\"snap_com_shot_bg_img_t\" src=\"__T_GIF__\" />\n<img id=\"snap_com_shot_bg_img_b\" src=\"__T_GIF__\" />\n<div id=\"snap_com_shot_bg_div_point\" style=\"z-index: 1\"><img id=\"snap_com_shot_bg_img_point\" src=\"__T_GIF__\" /></div>\n<div id=\"snap_com_shot_bg_body\"></div>\n\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer0\" src=\"__T_GIF__\" />\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer1\" src=\"__T_GIF__\" />\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer2\" src=\"__T_GIF__\" />\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer3\" src=\"__T_GIF__\" />\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer4\" src=\"__T_GIF__\" />\n<img style=\"z-index: 2\" id=\"snap_com_shot_pointer5\" src=\"__T_GIF__\" />\n<div id=\"snap_com_shot_bubble\">\n<img id=\"snap_com_shot_bubble_img\" src=\"__T_GIF__\" />\n<div id=\"snap_com_shot_body\">\n <table id=\"snap_com_shot_drag_overlay\" title=\"drag to move\" style=\"display:none; z-index:9; cursor:move !important; \"><tr><td style=\"background-color:transparent;border:0;\">&nbsp;</td></tr></table>\n <div id=\"snap_com_shot_top_left_menu\" style=\"z-index:10\"><img id=\"snap_com_shot_preview_toggle\" src=\"__T_GIF__\" style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_rss_toggle\" src=\"__T_GIF__\" ALIGN=TOP style=\"cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_top_right_menu\" style=\"z-index:10\"><img id=\"snap_com_shot_option_button\" src=\"__T_GIF__\" style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_zoom_img\" src=\"__T_GIF__\" ALIGN=TOP style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_pin_close_img\" title=\"Close\" src=\"__T_GIF__\" ALIGN=TOP style=\"cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_option_menu\" style=\"z-index:10\">\n  <div id=\"snap_com_shot_option_a\" style=\"cursor:pointer !important\" ></div>\n  <div id=\"snap_com_shot_disable_a\" style=\"cursor:pointer !important\" ></div>\n </div>\n <div id=\"snap_com_shot_search\" style=\"margin:0 !important; padding:0 !important\">\n  <div id=\"snap_com_shot_search_form\" style=\"margin:0 !important; padding:0 !important\" action=\"#\" method=\"GET\" accept-charset=\"UTF8\" target=\"_blank\">\n   <input id=\"snap_com_shot_box\" type=\"text\" name=\"query\" autocomplete=\"off\" style=\"visibility:inherit !important\" />\n   <button type=\"submit\" name=\"snap_com_shot_submit\" id=\"snap_com_shot_submit\"></button>\n   <a href=\"about:blank\" id=\"snap_com_shot_hidden_link\"></a>\n  </div>\n </div>\n <div id=\"snap_com_shot_promo\"><a class=\"snap_nopreview\" id=\"snap_com_shot_promo_a\"></a><img id=\"snap_com_shot_promo_icon\" src=\"__T_GIF__\" style=\"border-bottom:none !important; cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_preview_div\">\n  <img id=\"snap_com_shot_rss_check\" src=\"__T_GIF__\"/>\n  <div style=\"white-space: nowrap !important;\" id=\"snap_com_shot_url_wrapper\"><a class=\"snap_nopreview\" id=\"snap_com_shot_url_favicon\" href=\"#\"><img id=\"snap_com_shot_favicon\" src=\"__T_GIF__\" /></a>&nbsp;<a class=\"snap_nopreview\" id=\"snap_com_shot_url_a\" href=\"#\"><span id=\"snap_com_shot_url\"></span></a>&nbsp;<a class=\"snap_nopreview\" id=\"snap_com_shot_url_arrow\" href=\"#\"><img id=\"snap_com_shot_arrow\" src=\"__T_GIF__\" /></a></div>\n  <a class=\"snap_nopreview\" id=\"snap_com_shot_img_a\" href=\"#\"><img id=\"snap_com_shot_preview_img\" src=\"__T_GIF__\"/></a>\n  <iframe name=\"snap_com_shot_preview\" id=\"snap_com_shot_preview\" scrolling=\"no\" frameborder=\"no\" src=\"about:blank\"></iframe><img id=\"snap_com_shot_loading_img\" src=\"__T_GIF__\" />\n </div>\n <div id=\"snap_com_shot_marea\">&nbsp;</div>\n <div id=\"snap_com_shot_marea_ad\">&nbsp;</div>\n <img id=\"snap_com_shot_cobrand_img\" src=\"__T_GIF__\"/>\n  <table id=\"snap_com_shot_flash_overlay\" title=\"click to play\" style=\"display:none; z-index:11; cursor:pointer !important;\"><tr><td>&nbsp;</td></tr></table>\n</div><div id=\"snap_com_shot_options\" >\n <iframe id=\"snap_com_shot_option_iframe\"  width=\"265\" height=\"190\" frameborder=\"0\" scrolling=\"no\" src=\"about:blank\" /></iframe>\n <div id=\"snap_com_shot_option_menu_bar\"><img class=\"snap_nopreview\" id=\"snap_com_shot_option_button_disabled\" src=\"__T_GIF__\" /><img class=\"snap_nopreview\" id=\"snap_com_shot_option_close_a\" src=\"__T_GIF__\" style=\"cursor:pointer !important\" /></div>\n<input id=\"snap_com_shot_option_cancel\" style=\"visibility:inherit\" name=\"cancelBtn\" type=\"button\" value=\"Cancel\" title=\"Close\" />\n</div>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_cobrand_a\" href=\"\" target=\"_blank\"><div style=\"display:none\"></div></a>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_logo_a\" href=\"\" style=\"height: 5px\" target=\"_blank\"><div style=\"display:none\"></div></a>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_ribbon_a\" href=\"\"><img id=\"snap_com_shot_ribbon\" src=\"__T_GIF__\" /></a>\n <img id=\"snap_com_shot_lg\" src=\"__T_GIF__\" />\n</div>\n".replace(/__T_GIF__/g,this.cfg.prefix.cdn_image+"t.gif");this.get_all_shot_nodes(this.div.main,this.div);this.set_css();this.div.flash_overlay.title=this.cfg.text.ClickToPlay;if(this.cfg.size=="large"){this.div.zoom_img.style.display="none";}this.raise_loading_img();this.observe(this.div.bubble,"mouseover",this.rollover);this.observe(this.div.bubble,"mouseout",this.rollout);this.observe(this.div.option_iframe,"mouseover",this.rollover);this.observe(this.div.option_iframe,"mouseout",this.rollout);for(i=0;i<this.cfg.pointer.steps;i++){this.observe(this.div["pointer"+i],"mouseover",this.rollover);this.observe(this.div["pointer"+i],"mouseout",this.rollout);}this.observe(this.div.preview,"load",this.preview_iframe_loaded);this.observe(this.div.preview_img,"load",this.preview_img_loaded);this.observe(this.div.rss_check,"load",this.rss_check_loaded);this.observe(this.div.option_iframe,"mouseout",function(_5a){_5a.returnValue=false;_5a.cancelBubble=true;});this.addMenuEvents(this.div);this.observe(this.div.promo_a,"mouseover",function(){this.div.promo_a.style.borderBottom="none";});this.observe(this.div.promo_a,"mouseout",function(){this.div.promo_a.style.borderBottom="1px dotted #747274";});var _5b=["img_a","url_a","url_favicon","url_arrow"];for(var i=0;i<_5b.length;i++){this.observe(this.div[_5b[i]],"mouseup",this.link_click);this.observe(this.div[_5b[i]],"click",this.link_click);}this.observe(this.div.url_wrapper,"mouseover",this.title_mouseover);this.observe(this.div.url_wrapper,"mouseout",this.title_mouseout);this.dragFunction=function(ev){shot.dragMove(ev);};this.dragStopFunction=function(ev){shot.dragStop(ev);};this.observe(document,"mousemove",this.dragFunction);this.observe(document,"mouseup",this.dragStopFunction);this.observe(this.div.flash_overlay,"click",this.startFlash);this.observe(this.div.drag_overlay,"mousedown",this.dragStart);this.observe(document,"mousewheel",function(ev){if(this.div.main.style.visibility=="visible"){shot.hide_delay(null,shot.cfg.delay.hide);}shot.disabled=true;clearTimeout(shot.disableTimer);shot.disableTimer=shot.sto(function(){shot.disabled=false;},200);});this.observe(this.div.submit,"click",this.form_submit);this.observe(this.div.box,"keydown",this.form_submit);this.observe(this.div.box,"focus",function(ev){if(shot.div.box.value===shot.cfg.text.SearchTheWeb){shot.div.box.value="";}});var _60="?source="+encodeURIComponent(this.cfg.source)+"&campaign=";this.div.logo_a.href=this.cfg.href.logo+_60+this.campaign("snap-shots-logo");switch(this.cfg.attribution_split_test_suffix){case "_1":case "_2":case "_3":case "_4":this.div.promo_a.href=this.cfg.href.client_download;break;case "_7":this.div.promo_a.href=this.cfg.href.client_about;break;case "_8":this.div.promo_a.href=this.cfg.href.whatsnew;break;default:this.div.promo_a.href=this.cfg.href.shot_signup+"?source="+document.location.host+"&campaign=viral-foot";}this.div.cobrand_a.href=this.cfg.prefix.preview+"explore/"+Math.floor((Math.random()*100000))+"/?key="+this.cfg.key+"&src="+document.location.host+"&cp=pub-logo"+"&url="+encodeURIComponent(this.cfg.href.cobrand);this.div.ribbon_a.href=this.cfg.href.ribbon+"?source="+document.location.host+"&campaign=charity-ribbon#shares";if(this.div.promo_a.href.indexOf(this.cfg.prefix.snap)===0){this.div.promo_a.href+=_60+this.campaign("link");}this.div.search_form.action=this.cfg.prefix.search;this.orientation("bl");this.draw_bubble();},draw_bubble:function(_61){var i,bg_img;var div=this.get_active_div(_61);var cfg=this.get_active_cfg(_61);if(!this.bubble_drawn){var bg={t:"tb",b:"tb",l:"lr",r:"lr"};for(i in bg){if(bg.hasOwnProperty(i)&&bg[i]!==undefined){bg_img=cfg.prefix.bg+"bg_"+bg[i]+".png";if(this.needs_png_fix){div["bg_img_"+i].runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+bg_img+"',sizingMethod='scale')";}else{if(this.isSafari){div["bg_img_"+i].src=bg_img;}else{div["bg_img_"+i].style.backgroundImage="url("+bg_img+")";div["bg_img_"+i].style.backgroundRepeat="repeat";}}}}bg=["tl","tr","bl","br"];for(i=0;i<bg.length;i++){this.set_palette_img(div["bg_div_"+bg[i]],"bg_"+bg[i],_61);}}else{this.bubble_drawn=true;}var w=div.main.style.width.replace(/\D/g,"")-(cfg.css_pos.bg_div_tl.w*2);var h=div.main.style.height.replace(/\D/g,"")-(cfg.css_pos.bg_div_tl.h*2);if(this.needs_png_fix||(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat")){if(h%2==0){h--;}}div.bg_img_t.style.width=w+"px";div.bg_img_b.style.width=w+"px";div.bg_img_l.style.height=h+"px";div.bg_img_r.style.height=h+"px";div.bubble.style.height=(div.main.style.height.replace(/\D/g,"")-8)+"px";div.body.style.height=(div.main.style.height.replace(/\D/g,"")-8)+"px";},addMenuEvents:function(div,_69){var _6a=this;this.observe(div.option_button,"click",this.option_frame,true,false,_69);this.observe(div.option_button,"mouseover",this.handleMenuRoll,"option_button",true,_69);this.observe(div.option_button,"mouseout",this.handleMenuRoll,"option_button",false,_69);this.observe(div.option_a,"click",this.option_frame,true,false,_69);this.observe(div.option_a,"mouseover",this.handleMenuRoll,"option_a",true,_69);this.observe(div.option_a,"mouseout",this.handleMenuRoll,"option_a",false,_69);this.observe(div.disable_a,"click",this.option_frame,true,true,_69);this.observe(div.disable_a,"mouseover",this.handleMenuRoll,"disable_a",true,_69);this.observe(div.disable_a,"mouseout",this.handleMenuRoll,"disable_a",false,_69);this.observe(div.zoom_img,"click",function(e){if(!_6a.no_opt_menu){_6a.resize(null,_69);}});this.observe(div.zoom_img,"mouseover",this.handleMenuRoll,"zoom_img",true,_69);this.observe(div.zoom_img,"mouseout",this.handleMenuRoll,"zoom_img",false,_69);this.observe(div.option_close_a,"click",this.destroy_bubble,_69);this.observe(div.option_close_a,"mouseover",this.handleMenuRoll,"option_close_a",true,_69);this.observe(div.option_close_a,"mouseout",this.handleMenuRoll,"option_close_a",false,_69);this.observe(div.option_cancel,"click",this.option_frame,false,false,_69);this.observe(div.preview_toggle,"click",this.rss_toggle,"preview",_69);this.observe(div.preview_toggle,"mouseover",this.handleMenuRoll,"preview_toggle",true,_69);this.observe(div.preview_toggle,"mouseout",this.handleMenuRoll,"preview_toggle",false,_69);this.observe(div.rss_toggle,"click",this.rss_toggle,"rss",_69);this.observe(div.rss_toggle,"mouseover",this.handleMenuRoll,"rss_toggle",true,_69);this.observe(div.rss_toggle,"mouseout",this.handleMenuRoll,"rss_toggle",false,_69);},rss_toggle:function(ev,_6d,_6e){var div=this.get_active_div(_6e);if(ev!=null&&this.current_rss!=_6d){this.logFeatureClick("shot_default_view_toggle_"+_6d);}if(_6d=="preview"){this.current_rss="preview";this.changePaletteImg("preview_toggle","preview_toggle_selected",_6e);this.changePaletteImg("rss_toggle","rss_toggle",_6e);this.shot_type="preview";if(ev!=null&&!this.preview_viewed){this.cfg.shot_check=0;this.preview_viewed=true;var _70=this.shot_data;this.view.time=this.now();var _71=this.shot_base;if(_70.url==""&&_70.svc&&_70.svc.indexOf("Snap_Shot_RSS")!=-1){_70.url=_70.tag;_70.redir_url=_70.url;_71=_71.replace("url=&","url="+_70.url+"&");this.update_preview_links(_70);}shot_url=_71+"&view_id="+this.view.id+"&goto="+encodeURIComponent(this.cfg.text.GoToURL);div.preview_img.src=this.cfg.prefix.preview+"preview"+shot_url+"&direct=1&sc=0&nl=1";this.view.confirm=false;}this.raise_shot("preview",_6e);}else{this.current_rss="rss";this.changePaletteImg("preview_toggle","preview_toggle",_6e);this.changePaletteImg("rss_toggle","rss_toggle_selected",_6e);if(ev!=null&&!this.iframe_viewed){this.cfg.shot_check=1;this.iframe_viewed=true;var _70=this.shot_data;var _72=this.cfg.prefix.preview+"shot"+this.shot_base+"&w="+this.cfg.css_pos.preview_div.w+"&h="+this.cfg.css_pos.preview_div.h+"&target="+_70.target+"&tag="+encodeURIComponent(_70.tag)+"&goto="+encodeURIComponent(this.cfg.text.GoToURL)+"&sc=0&log=0";var _73="#rt"+this.now();this.setPreviewIframeSrc(_72+_73,_6e);}this.raise_shot("iframe",_6e);}},hideTopLeftMenu:function(_74){var div=this.get_active_div(_74);div.top_left_menu.style.visibility="hidden";div.url_favicon.style.display="";},showTopLeftMenu:function(_76){var div=this.get_active_div(_76);div.top_left_menu.style.visibility="";div.url_favicon.style.display="none";},resize:function(_78,_79){var i,len,p,mult,o,shot;var div=this.get_active_div(_79);var cfg=this.get_active_cfg(_79);var _7d=this.get_active_element(_79);var _7e=this.get_active_orientation(_79);if(_78==null&&this.isIE&&window.event){var _7f;var e=window.event;if(e.target){_7f=e.target;}else{if(e.srcElement){_7f=e.srcElement;}}if(div.zoom_img!==_7f){return;}}var x=div.main.style.left.replace(/[^-\d]/g,""),y=div.main.style.top.replace(/[^-\d]/g,"");div.main.style.visibility="hidden";if(_78===undefined||_78===null){cfg.size=(cfg.size=="large")?"small":"large";}else{if(cfg.size==_78){return;}else{cfg.size=_78;}}mult=(cfg.size=="large")?1:-1;len=cfg.resize.w_list.length;for(i=0;i<len;i++){cfg.css_pos[cfg.resize.w_list[i]].w+=(mult*cfg.resize.w);}len=cfg.resize.h_list.length;for(i=0;i<len;i++){cfg.css_pos[cfg.resize.h_list[i]].h+=(mult*cfg.resize.h);}this.set_css(_79);o=_7e;if(o.substr(0,1)=="b"){y-=(mult*cfg.resize.h);}if(o.substr(0,1)=="r"){x-=(mult*cfg.resize.w);}this.move(x,y,_79);this.draw_bubble(_79);this.orientation(o,false,_79);this.show_shot(this.get_shot_data(_7d),_79,true);if(cfg.size=="small"){shot=this;shot.long_delay=true;this.later(200,function(){shot.long_delay=false;});}div.main.style.visibility="visible";},option_frame:function(ev,_83,_84,_85){var url;var _87=this;var div=this.get_active_div(_85);if(!this.no_opt_menu){div.option_close_a.style.display=(_85===undefined)?"none":"";div.body.style.visibility=_83?"hidden":"";div.options.style.visibility=_83?"":"hidden";if(_83){url=this.opt_url+"&url="+this.current_url+(_84?"&hl=disable":"")+"&size="+this.cfg.size+"&js_src="+encodeURIComponent(this.get_js_src())+(this.shot_type?"&shot_type="+this.shot_type:"");div.option_iframe.src="about:blank";this.sto(function(){div.option_iframe.src=url;},0);}}ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}return false;},get_js_src:function(){var i,len,src=null;var _8a=/\/(snap_preview_anywhere|snap_shots).js/;var _8b=document.getElementsByTagName("script");len=_8b.length;for(i=0;i<len;i++){if(_8b[i].src.search(_8a)!=-1){if(!src||(src&&_8b[i].src.search(/plugin=1/))){src=_8b[i].src;}}}return src;},raise_loading_img:function(){this.div.loading_img.style.zIndex=Number(this.div.preview_img.style.zIndex)+10;this.div.loading_img.style.display="inline";},lower_loading_img:function(ev,_8d){if(_8d=="iframe"&&this.shot_trigger_is_preview){return;}this.div.loading_img.style.zIndex=Number(this.div.preview_img.style.zIndex)-10;this.div.loading_img.style.display="none";},move:function(x,y,_90){var div=this.get_active_div(_90);var cfg=this.get_active_cfg(_90);div.main.style.left=x+"px";div.main.style.top=y+"px";},get_activated_element:function(ev){var i,element;if(ev.srcElement){element=ev.srcElement;}else{if(ev.target){element=ev.target;}}for(var i=0;(i<5)&&element;i++){if(this.el_prop(element,"activated")){return element;}try{element=element.parentNode;}catch(e){}}return null;},hide_delay:function(ev,_96){if((ev!==null&&!this.get_activated_element(ev))){return;}if(this.long_delay){_96=1500;this.long_delay=false;}this.clear_timer("show");this.clear_timer("prefetch");this.timer_id.show=this.later(_96,this.hide);this.tmr.mark("mouseout");},hide:function(_97){this.tmr.mark("hide");this.tmr.log(this);this.raise_loading_img();if(!_97&&this.div.main.style.visibility!="hidden"){this.confirm_shot_load("pf");}this.div.main.style.visibility="hidden";this.set_marea("");if(this.isSafari){if(this.div.preview){this.later(0,function(){this.div.preview.src="about:blank";});}}else{if(this.div.preview.contentWindow){this.div.preview.contentWindow.location.replace("about:blank");}}},show_delay:function(ev,_99,_9a){if(typeof SNAP_COM!="undefined"&&SNAP_COM.clientActive&&!this.cfg.plugin){if(this.div.main&&this.div.main.parentNode){this.unobserve_all();this.div.main.parentNode.removeChild(this.div.main);}return;}var _9b=null;var ex,ey,offset,shot;var _9d=this.get_activated_element(ev);if(this.disabled||!_9d){return;}this.clear_timer("show");this.clear_timer("prefetch");var _9e=this.getViewportWidth();var _9f=this.getViewportHeight();var _a0=ev.clientX;var _a1=ev.clientY;var _a2;if((/Safari|Konqueror|KHTML/gi).test(navigator.userAgent)){var _a0=ev.pageX-window.pageXOffset;var _a1=ev.pageY-window.pageYOffset;}_a2=(_a1>(2*_9f/5))?"b":"t";_a2+=(_a0>(_9e/2))?"r":"l";var _a3=parseInt(this.div.body.style.height.replace(/\D/g,""))+parseInt(this.div.bg_div_point.style.height.replace(/\D/g,""));var _a4=parseInt(this.div.body.style.width.replace(/\D/g,""))+parseInt(this.div.bg_div_point.style.width.replace(/\D/g,""));if((_a2.substr(0,1)=="b"&&_a1<_a3)||(_a2.substr(0,1)=="t"&&(_a1+_a3)>_9f)){if((parseInt(_a3/2)<_a1)&&(parseInt(_a3/2)<(_9f-_a1))){if((_9e-_a0)>_a4){_a2="l";}else{if(_a0>_a4){_a2="r";}}}}_9b=this.el_prop(_9d,"shot_parent")||_9d;if(!this.el_prop(_9b,"markup")&&!this.is_valid_link(_9b)){return;}if(this.div.main.style.visibility=="visible"){if(this.current_element!=_9b){_99=_9a;}else{return;}}if(this.div.main.style.visibility=="visible"){this.pre_tmr=new SNAP_COM.timer_obj();this.pre_tmr.enabled(this.tmr_on);this.pre_tmr.mark("mouseover");}else{this.view.id=this.rand_hash(this.cfg.rnd+_a0+_a1);this.view.confirm=true;this.tmr=new SNAP_COM.timer_obj();this.tmr.enabled(this.tmr_on);this.tmr.mark("mouseover");this.tmr.set_id(this.view.id);}var el=this.el_prop(_9d,"shot_parent")||_9d;if(el&&el.className&&el.className.match(/\bsnap_shots?_custom/i)){this.marea.fb_arg="custom";this.marea.call="uf";}else{if(this.div.main.style.visibility!="visible"){this.shot_data=this.get_shot_data(_9d);this.timer_id.prefetch=this.later(this.cfg.delay.prefetch,this.marea_adserver,null);}}this.timer_id.show=this.later(_99,this.show,_9d,_a2);},show:function(_a6,_a7){var ex;var ey;if((this.cfg.trigger_position=="icon")&&this.el_prop(_a6,"link_icon")){offset=this.getXY(this.el_prop(_a6,"link_icon")||_a6);ex=offset[0];ey=offset[1];}else{ex=this.current_ex;ey=this.current_ey;}var _aa=this.get_shot_data(_a6);if(this.pre_tmr){this.tmr.mark("hide");this.tmr.log(this);this.tmr=this.pre_tmr;this.pre_tmr=undefined;}else{if(!this.tmr){this.tmr=new SNAP_COM.timer_obj();this.tmr.enabled(this.tmr_on);}}this.tmr.mark("show");if(this.div.main.style.visibility=="visible"){this.view.id=this.rand_hash(this.cfg.rnd+ex+ey);this.view.confirm=true;this.tmr.set_id(this.view.id);}if(this.other_bubbles){for(var i=0;i<this.other_bubbles.length;i++){if((_aa.url==this.other_bubbles[i].current_url&&_aa.svc=="")||(_aa.svc!=""&&_aa.tag==this.other_bubbles[i].current_tag)){return;}}}if(!this.cfg.image_trigger){var url=_aa.url;var m=url.match(/\w+:\/\/([^#]*)/);if(m&&m[1].match(this.photo_shot_re)){var _ae=0,shot=this,imgs=_aa.element.getElementsByTagName("img");for(var i=0;i<imgs.length;i++){if(!this.el_prop(imgs[i],"is_link_icon")){_ae=1;break;}}if(_ae){return;}}}this.div.body.style.display="inline";this.div.body.style.visibility="";this.div.options.style.visibility="hidden";if(!_a7){_a7=this.current_orientation;}if(this.cfg.size!=this.cfg.orig_size){this.resize(this.cfg.orig_size);}this.orientation(_a7);this.div.box.value=this.cfg.text.SearchTheWeb;this.div.box.blur();this.later(0,this.show_part2,_aa,ex,ey,_a7,_a6);},show_part2:function(_af,ex,ey,_b2,_b3){var _b4=((this.cfg.trigger_position=="icon")&&this.el_prop(_b3,"link_icon"));this.show_shot(_af);if(_b2.substr(0,1)=="b"){ey=ey-this.div.main.offsetHeight+(_b4?-30:-35);}else{ey+=(_b4?55:40);}switch(_b2){case "l":ex=ex+35;ey=ey-this.cfg.pointer.left.y-40;break;case "r":ex=ex-this.div.main.offsetWidth-(_b4?35:27);ey=ey-this.cfg.pointer.right.y-40;break;case "tr":case "br":ex=ex-this.div.main.offsetWidth+(_b4?20:12);break;default:ex=ex-5;break;}this.move(ex,ey);this.current_element=_af.element;if(this.div.main.style.visibility=="visible"){this.set_marea("");}else{if(this.marea.beacon){this.append_beacon(this.marea.beacon,this.div.marea);this.marea.beacon="";}}this.div.main.style.visibility="visible";},orientation:function(_b5,_b6,_b7){var i,w_step,h_step,x_step,ps,tb,lr,po,y0,x0,h=1;var ph,pw;var p=this.cfg.pointer;var _bb;var div=this.get_active_div(_b7);var _bd=parseInt(div.body.style.height.replace(/\D/g,""));_b6=false;tb=(_b5.substr(0,1)=="t")?"top":"bottom";lr=(_b5.substr(1,1)=="l")?"left":"right";_bb=div.bg_div_point;this.set_palette_img(_bb,"point_"+_b5,_b7);_bb.style.top="auto";_bb.style.left="auto";_bb.style.bottom="auto";_bb.style.right="auto";ph=parseInt(div.bg_div_point.style.height.replace(/\D/g,""));pw=parseInt(div.bg_div_point.style.width.replace(/\D/g,""));if(_b5=="pin"){_bb.style.visibility="hidden";}else{_bb.style.visibility="inherit";if(_b5=="l"){_bb.style.top=(p.left.y-Math.round(ph/2))+"px";_bb.style.left="-"+(pw-p.left.x)+"px";}else{if(_b5=="r"){_bb.style.top=(p.right.y-Math.round(ph/2))+"px";_bb.style.right="-"+(pw-p.right.x)+"px";}else{if(tb=="top"){_bb.style.top="-"+(ph-p[tb].y)+"px";}else{_bb.style.bottom="-"+(ph-p[tb].y)+"px";}if(lr=="left"){_bb.style.left=p[tb].x+"px";}else{_bb.style.right=p[tb].x+p.r_offset+"px";}}}}x_step=(p.x-p.x0)/(p.steps-1);w_step=(p.w-p.w0)/(p.steps-1);h_step=ph/p.steps;x0=p.x+(lr=="right"?p.r_offset:0);y0=5-p[tb].y;for(i=0;i<p.steps;i++){ps=div["pointer"+i].style;ps.left="auto";ps.right="auto";ps.top="auto";ps.bottom="auto";if(_b5.match(/^(pin|l|r)$/)){ps.visibility="hidden";ps.top="50px";ps.left="50px";ps.width="0px";ps.height="0px";}else{ps.visibility="inherit";ps.width=Math.floor(p.w0+(w_step*i))+"px";ps.height=Math.floor(h_step+1)+"px";ps[tb]=(Math.floor(y0+(h_step*i))*-1)+"px";ps[lr]=Math.floor(x0-(x_step*i))+"px";}}if(_b5.match(/^(l|r)$/)&&(p.steps>0)){ps=div["pointer0"].style;ps.visibility="inherit";var _be=["height","width","top","left","bottom","right"];for(i=0;i<_be.length;i++){ps[_be[i]]=_bb.style[_be[i]];}}if(_b7==null){this.current_orientation=_b5;}else{this.other_bubbles[_b7].current_orientation=_b5;}},highlight:function(_bf){this.clear_timer("show");this.clear_timer("prefetch");this.orientation(this.current_orientation,_bf);},handleMenuRoll:function(ev,_c1,_c2,_c3){var div=this.get_active_div(_c3);if(_c1==this.current_rss+"_toggle"){return;}if(div[_c1].tagName.toLowerCase()=="img"||_c1=="option_close_a"){var _c5=_c1;if(_c1=="zoom_img"){_c5=(this.cfg.size=="large")?"zoom_img_minus":"zoom_img_plus";}if(_c2){_c5+="_over";}this.changePaletteImg(_c1,_c5,_c3);if(_c1=="option_button"){if(_c2){this.clear_timer("hideOptionMenu"+_c3);this.timer_id["showOptionMenu"+_c3]=this.later(250,this.showOptionMenu,_c3);}else{this.clear_timer("showOptionMenu"+_c3);this.timer_id["hideOptionMenu"+_c3]=this.later(250,this.hideOptionMenu,_c3);}}}else{var s=div[_c1].style;if(_c2){s.backgroundColor="#d9d9d9";}else{s.backgroundColor="white";}if(_c1=="option_a"||_c1=="disable_a"){if(_c2){this.clear_timer("hideOptionMenu"+_c3);}else{this.timer_id["hideOptionMenu"+_c3]=this.later(250,this.hideOptionMenu,_c3);}}}},showOptionMenu:function(_c7){var div=this.get_active_div(_c7);div.option_menu.style.visibility="";if(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat"){var _c9=this.getWidth(div.option_a);var _ca=this.getWidth(div.disable_a);if(_c9>_ca){div.disable_a.style.width=_c9;}else{if(_ca>_c9){div.option_a.style.width=_ca;}}}},hideOptionMenu:function(_cb){var div=this.get_active_div(_cb);div.option_menu.style.visibility="hidden";},changePaletteImg:function(_cd,_ce,_cf){var div=this.get_active_div(_cf);var cfg=this.cfg;if(cfg.palette[_ce]==null){return;}var s=div[_cd].style;s.backgroundColor="transparent";s.backgroundImage="url("+cfg.img.palette+")";s.backgroundPosition=cfg.palette[_ce].loc;s.backgroundRepeat="no-repeat";s.width=cfg.palette[_ce].w+"px";s.height=cfg.palette[_ce].h+"px";},set_palette_img:function(_d3,id,_d5){var img;var div=this.get_active_div(_d5);var cfg=this.get_active_cfg(_d5);if(!cfg.png_palette[id]){return;}img=_d3.getElementsByTagName("img")[0];_d3.style.height=cfg.png_palette[id].h+"px";_d3.style.width=cfg.png_palette[id].w+"px";_d3.style.overflow="hidden";if(this.needs_png_fix){img.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+cfg.img.png_palette+"',sizingMethod='image')";img.src=cfg.prefix.cdn_image+"t.gif";}else{img.src=cfg.img.png_palette;}img.style.position="absolute";img.style.left="-"+cfg.png_palette[id].x+"px";img.style.top="-"+cfg.png_palette[id].y+"px";},hash32:function(str){var h=5003;str=str.toString();for(var i=0;i<str.length;++i){h+=str.charCodeAt(i);h+=(h<<10);h^=(h>>6);}h+=(h<<3);h^=(h>>11);h+=(h<<15);h=Math.abs(h).toString(16);while(h.length<8){h="0"+h;}return h;},rand_hash:function(a){var i,str=["","","",""];a=a.toString()+Math.random()+document.location.href+this.now()+window.navigator.userAgent;for(i=0;i<a.length;i++){str[i%4]+=a.charAt(i);}return this.hash32(str[0])+this.hash32(str[1])+this.hash32(str[2])+this.hash32(str[3]);},raise_shot:function(_de,_df){var div=this.get_active_div(_df);var _e1="hidden",iframe="";if(_de=="preview"){_e1="";iframe="hidden";}div.preview.style.visibility=iframe;div.preview_img.style.visibility=_e1;div.url_a.style.visibility=_e1;},show_shot:function(_e2,_e3,_e4){var url,fragment,max,shot_url,shot_base,b,bimg,burl,cp,rand_rate,is_custom_shot=false;var div=this.get_active_div(_e3);var cfg=this.get_active_cfg(_e3);var _e8=0,shot=this,imgs=_e2.element.getElementsByTagName("img");for(var i=0;i<imgs.length;i++){if(!this.el_prop(imgs[i],"is_link_icon")){_e8=1;break;}}this.current_url=_e2.url;this.current_tag=_e2.tag;this.shot_type="";this.raise_loading_img();var _ea=div.preview_img.src;this.current_rss=null;this.hideTopLeftMenu(_e3);if(_e2.svc&&_e2.svc.toLowerCase().indexOf("snap_shot_custom")!==-1){is_custom_shot=true;}shot_base="/?url="+encodeURIComponent(_e2.redir_url)+"&key="+cfg.key+"&src="+encodeURIComponent(cfg.source)+"&cp="+cfg.campaign+"&sb="+(cfg.search_box?"1":"0")+"&v="+cfg.version+"&size="+cfg.size+"&lang="+cfg.lang+"&search_type="+cfg.search_type+"&origin=shots_bubble"+"&act="+_e2.trigger+"&po="+(cfg.preview_only?"1":"0")+"&rp="+encodeURIComponent(cfg.redirect_param)+"&has_img="+_e8+"&ol=0&ex=0"+"&ad="+"unknown"+"&ip="+cfg.client_ip+"&ua="+cfg.user_agent+"&vid="+this.view.id+"&nl="+(_e4?"1":"0")+"&referrer="+encodeURIComponent(location.href)+"&svc="+encodeURIComponent(_e2.svc);this.shot_base=shot_base;this.pin_check(_e2);this.preview_viewed=false;this.iframe_viewed=false;if(_e2.is_preview){this.shot_type="preview";this.view.time=this.now();shot_url=shot_base+"&view_id="+this.view.id+"&goto="+encodeURIComponent(cfg.text.GoToURL);this.raise_shot("preview",_e3);this.clear_timer("retry");this.tmr.mark("preview_start");if(this.retry_url_list[_e2.url]){div.preview_img.src=this.retry_url_list[_e2.url];}else{if(cfg.shot_check==0){this.preview_viewed=true;div.preview_img.src=cfg.prefix.preview+"preview"+shot_url+"&direct=1&sc=0";}else{div.preview_img.src=cfg.prefix.cdn_image+"t.gif";}}if(!cfg.no_rss){this.tmr.mark("rss_check_start");div.rss_check.src=cfg.prefix.preview+"preview"+shot_url+"&sc=1&nl=1&rss=1";}else{div.rss_check.src=this.cfg.prefix.cdn_image+"t.gif";}this.update_preview_links(_e2,_e3);}this.shot_data=_e2;if(!_e2.is_preview||cfg.shot_check==1){if(!_e2.is_preview){this.raise_shot("iframe",_e3);}if(_e2.svc&&_e2.svc.indexOf("Snap_Shot_IFrame")!=-1){shot_url=_e2.tag;if(_e2.svc.indexOf("IFrameSized")!=-1){shot_url=shot_url+"?w="+cfg.css_pos.preview_div.w+"&h="+cfg.css_pos.preview_div.h;}}else{shot_url=cfg.prefix.preview+"shot"+shot_base+"&w="+cfg.css_pos.preview_div.w+"&h="+cfg.css_pos.preview_div.h+"&target="+_e2.target+"&tag="+encodeURIComponent(_e2.tag)+"&goto="+encodeURIComponent(cfg.text.GoToURL)+(_e4?"&log=0":"")+"&sc="+(_e2.is_preview?"1":"0");}if(_e2.auto){shot_url+="&as=1"+"&asp="+encodeURIComponent(_e2.auto.pattern)+"&aseid="+encodeURIComponent(_e2.auto.eid)+"&astid="+encodeURIComponent(_e2.auto.tid);}fragment="#rt"+this.now();if(_e3!==undefined&&_e3!==null){fragment+="#autoplay";}this.iframe_viewed=true;this.setPreviewIframeSrc(shot_url+fragment,_e3);if(_ea==div.preview_img.src){this.lower_loading_img();}if(_e2.svc&&_e2.svc.indexOf("Snap_Shot_RSS")!=-1){this.showTopLeftMenu(_e3);this.rss_toggle(null,"rss",_e3);}}this.shot_trigger_is_preview=_e2.is_preview;this.shot_url=shot_url;if(cfg.search_box&&!cfg.no_mjs){this.marea.fb_src=cfg.prefix.spasense+"marea.js"+"?key="+cfg.key+"&url="+encodeURIComponent(_e2.redir_url)+"&url_s="+encodeURIComponent(document.location.href)+"&html="+encodeURIComponent(this.get_inner_text(_e2.element,500))+"&svc="+encodeURIComponent(_e2.svc)+"&tag="+encodeURIComponent(_e2.tag)+"&s="+cfg.size+"&ua="+(this.isIE?"ie":this.isFirefox?"firefox":this.isSafari?"safari":this.isOpera?"opera":"unknown")+"&ao="+(SNAP_COM.clientActive?"1":"0")+"&rtl="+cfg.rtl+"&lang="+cfg.lang+"&theme="+cfg.theme+"&source="+encodeURIComponent(cfg.source)+"&cp="+cfg.campaign+"&rnd="+encodeURIComponent(Math.random());if(_e2.svc.match(/snap_shots?_custom/i)){this.marea.fb_arg="custom";this.marea.call="uf";}switch(this.marea.call){case "adserver":this.marea_adserver(_e3);break;case "uf":this.marea_js(null,_e3,this.marea.fb_arg,true);break;case "fb":this.marea_fallback.apply(this,this.marea.fb_arg.concat(true));break;case "none":default:break;}this.marea.call="adserver";this.marea.fb_arg="";this.show_marea_ad(1);if(this.needs_png_fix){this.show_marea("search");}}},get_active_div:function(_eb){if(_eb==null||_eb==undefined){var div=this.div;}else{var div=this.other_bubbles[parseInt(_eb)];}return div;},get_active_cfg:function(_ed){if(_ed==null||_ed==undefined){var cfg=this.cfg;}else{var cfg=this.other_bubbles[parseInt(_ed)].cfg;}return cfg;},get_active_orientation:function(_ef){if(_ef==null||_ef==undefined){var _f0=this.current_orientation;}else{var _f0=this.other_bubbles[parseInt(_ef)].current_orientation;}return _f0;},get_active_element:function(_f1){if(_f1==null||_f1==undefined){var _f2=this.current_element;}else{var _f2=this.other_bubbles[parseInt(_f1)].current_element;}return _f2;},shotsense_url:function(){var cfg=this.cfg;var _f4=this.shot_data;url="http://shots.snap.com/rk.php?"+"url="+encodeURIComponent(_f4.url)+"&key="+cfg.key+"&lang="+cfg.lang+"&th="+cfg.theme+"&src="+encodeURIComponent(cfg.source)+"&cp=spasense"+"&s="+cfg.size+"&svc="+encodeURIComponent(_f4.svc)+"&tag="+encodeURIComponent(_f4.tag)+"&atext="+encodeURIComponent(this.get_inner_text(_f4.element,500))+"&title="+encodeURIComponent(document.title)+"&dfs="+cfg.dfs+"&call="+this.shotsense_shown+"&vid="+this.view.id;return url;},cgi_suffix_from_options:function(o){var rv="";if(o){for(var key in o.cgi_params){if(o.cgi_params.hasOwnProperty(key)){rv+="&"+encodeURIComponent(key)+"="+encodeURIComponent(o.cgi_params[key]);}}}return rv;},marea_fallback:function(_f8,_f9,_fa,_fb){var div=this.get_active_div(_f9);if(div.main.style.visibility!="visible"&&!_fb){this.marea.fb_arg=[arguments[0],arguments[1],arguments[2]];this.marea.call="fb";return;}switch(_f8){case "shotsense":var _fd=document.createElement("iframe");_fd.frameBorder="0";_fd.setAttribute("scrolling","no");_fd.src=this.shotsense_url()+this.cgi_suffix_from_options(_fa);_fd.width=this.cfg.css_pos.marea.w;_fd.height=this.cfg.css_pos.marea.h;div.marea.innerHTML="";div.marea.appendChild(_fd);this.set_load_tmr(_fd,"shotsense");this.show_marea();this.shotsense_shown++;break;default:var src="";if(this.marea.fb_src){src=this.marea.fb_src;src+=((src.indexOf("?")==-1)?"?fb=":"&fb=")+encodeURIComponent(_f8)+"&bub="+_f9+this.cgi_suffix_from_options(_fa);this.replace_marea_js(src,_f9);}break;}},replace_marea_js:function(src,_100){var div=this.get_active_div(_100);var js=document.createElement("script");js.id="snap_com_shot_marea_js";js.type="text/javascript";js.src=src;this.set_load_tmr_js(js,src);if(div.marea_js){try{div.main.removeChild(div.marea_js);}catch(e){}}div.main.appendChild(js);div.marea_js=js;},marea_js:function(src,_104,fb,_106){var div=this.get_active_div(_104);if(fb){if(div.main.style.visibility!="visible"&&!_106){this.marea.fb_arg=fb;this.marea.call="uf";return;}if(this.marea.fb_src){src=this.marea.fb_src;src+=((src.indexOf("?")==-1)?"?fb=":"&fb=")+encodeURIComponent(fb)+"&bub="+_104;}else{return;}}var js=document.createElement("script");js.id="snap_com_shot_marea_js";js.type="text/javascript";js.src=src;this.set_load_tmr_js(js,src);if(div.marea_js){try{div.main.removeChild(div.marea_js);}catch(e){}}div.main.appendChild(js);div.marea_js=js;},marea_adserver:function(_109){if(_109==null){_109="null";}this.clear_timer("prefetch");this.marea.call="none";if(!this.cfg.search_box||this.cfg.no_mjs){return;}if(SNAP_COM.marea.ad_type.match(/^doubleclick/)){var ord=new String(parseInt(Math.random()*10000000000));while(ord.length<10){ord="0"+ord;}var src=SNAP_COM.marea.ad_src_base.replace(/;ord=(\d+)/,";ord="+ord);src=src.replace(/;sov=(\d+)/,";sov="+parseInt(Math.random()*10));src=src.replace(/;bub=(\d+)/,";bub="+_109);src=src.replace(/\/adx\//,"/pfadx/");if(this.cfg.size!=this.cfg.orig_size){var shot=this;src=src.replace(/\bsz=(\d+)/,function(str,p1){if(shot.cfg.size=="large"){p1=parseInt(p1)+shot.cfg.resize.w;}else{p1=parseInt(p1)-shot.cfg.resize.w;}return "sz="+p1;});}this.marea_js(src);}else{this.marea.fb_arg="no_ad_src_js";if(SNAP_COM.marea_set){this.marea.fb_arg="no_ad_src";}else{var _10f=document.getElementsByTagName("script");var len=_10f.length;var i;for(i=0;i<len;i++){if(_10f[i].src.match(/\/auto_shot.js/)){this.marea.fb_arg="no_ad_src_set";break;}}}this.marea.call="uf";this.show_marea("search");}},set_marea:function(html,_113){var div=this.get_active_div(_113);this.set_marea_beacon(null,_113);div.marea.innerHTML=html;},set_marea_beacon:function(html,_116){var div=this.get_active_div(_116);if(div.main.style.visibility=="visible"&&html){this.append_beacon(html,div.marea);this.marea.beacon="";}else{this.marea.beacon=html;}},set_marea_ad:function(html,_119){var div=this.get_active_div(_119);this.marea.ad_beacon="";div.marea_ad.innerHTML=html;},set_marea_ad_beacon:function(html,_11c){var div=this.get_active_div(_11c);this.marea.ad_beacon=html;},append_beacon:function(html,_11f){var _120=document.createElement("div");_120.style.position="absolute";_120.style.visibility="hidden";_120.innerHTML=html;_11f.appendChild(_120);},show_marea:function(type,_122){var div=this.get_active_div(_122);if(type=="search"){div.search.style.visibility="inherit";div.marea.style.visibility="hidden";}else{div.search.style.visibility="hidden";div.marea.style.visibility="inherit";}},show_marea_ad:function(hide,_125){var div=this.get_active_div(_125);if(hide){div.marea_ad.style.display="none";if(div.preview.style.visibility=="hidden"&&div.preview_img.style.visibility=="hidden"){div.preview.style.visibility="";}}else{div.marea_ad.style.display="block";this.append_beacon(this.marea.ad_beacon,div.marea_ad);this.marea.ad_beacon="";if(div.preview.style.visibility!="hidden"){div.preview.style.visibility="hidden";}}},update_preview_links:function(_127,_128){var max,url;var div=this.get_active_div(_128);var cfg=this.get_active_cfg(_128);url=_127.redir_url.replace(/\w+:\/\/(www\.)?/,"");url=url.replace(/^([-\w.]*)\/$/,"$1");max=cfg.url_max?cfg.url_max:50;if(url.length>max){url=url.substr(0,max)+"...";}div.url.innerHTML=url;div.url_a.href=_127.url;div.url_favicon.href=_127.url;div.url_arrow.href=_127.url;div.img_a.href=_127.url;div.url_a.target=_127.target;div.url_favicon.target=_127.target;div.url_arrow.target=_127.target;div.img_a.target=_127.target;div.url_a.title=cfg.text.GoToURL.replace(/%URL/,url);div.url_favicon.title=cfg.text.GoToURL.replace(/%URL/,url);div.url_arrow.title=cfg.text.GoToURL.replace(/%URL/,url);div.img_a.title=div.url_a.title;},is_preview_url:function(url){if(this.cfg.rich_shot_exceptions!=""){if(url.match(this.rich_shot_exceptions_re)){return true;}}var m=url.match(/\w+:\/\/([^#]*)/);if(m&&m[1].match(this.preview_re)){return false;}return true;},get_inner_text:function(el,_12f){var text="";if(el.innerText!==undefined){text=el.innerText;}else{if(el.textContent!==undefined){text=el.textContent;}}if(_12f===undefined){return this.trim(text).substr(0);}else{return this.trim(text).substr(0,_12f);}},get_shot_data:function(el){var i,j,m,els;var node;var key,val;var svcs=[];var shot={"svc":"","tag":"","url":"","target":"","element":el,"trigger":"","auto":false};if(this.el_prop(el,"is_link_icon")){shot.trigger="icon";}else{shot.trigger="link";}el=this.el_prop(el,"shot_parent")||el;shot.element=el;shot.trigger=(this.el_prop(el,"trigger")=="both"?"both":"only")+"_"+shot.trigger;if(el.href!==undefined){shot.url=el.href;shot.target=el.target;}if(typeof SNAP_COM!="undefined"&&SNAP_COM.translateURL){if(shot.target.toLowerCase()=="_search"){shot.target="_SELF";}shot.url=SNAP_COM.translateURL(shot.url);shot.redir_url=shot.url;}if(this.cfg.redirect_param){regexS="[\\?&]"+this.cfg.redirect_param+"=([^&#]*)";regex=new RegExp(regexS);m=shot.url.match(regex);if(m){shot.redir_url=decodeURIComponent(m[1]);}else{shot.redir_url=shot.url;}}else{shot.redir_url=shot.url;}if(this.el_prop(el,"markup")){if((el.innerText!==undefined)&&el.innerText.length){shot.tag=this.trim(el.innerText).substr(0,500).replace(String.fromCharCode(164),"&curren");}else{if(el.textContent!==undefined){shot.tag=this.trim(el.textContent).substr(0,500);}else{shot.tag=this.trim(el.innerHTML).substr(0,500);}}svcs.push(encodeURIComponent(el.className.match(/\bsnap_shots?_\S+/ig).join("|")));node=el.firstChild;while(node){if(node.tagName){m=node.className.match(/\bsnap_shots?_\S+/ig);if(m){key=encodeURIComponent(m.join("|"));val=encodeURIComponent(this.get_inner_text(node,500));svcs.push(key+"="+val);}}node=node.nextSibling;}shot.svc=svcs.join("&");}else{shot.is_preview=this.is_preview_url(shot.redir_url);}if(this.el_prop(el,"auto")){shot.auto=this.el_prop(el,"autoshot_data");}return shot;},set_load_tmr_js:function(el,src){var m;if((m=src.match(/^http:\/\/ad.(doubleclick).net\//))||(m=src.match(/\/(marea).js\?/))){this.set_load_tmr(el,m[1]);}},set_load_tmr:function(el,id){var shot=this;this.tmr.mark(id+"_start");this.observe(el,"load",function(e){shot.tmr.mark(id+"_end");});},confirm_shot_load:function(_13e){if(this.view.confirm){this.div.arrow.src=this.cfg.prefix.image+"snip/arrow-contd/"+this.view.id+"/d/"+_13e+"/p"+(this.now()-this.view.time)+"/arrow/";}this.view.confirm=false;},rss_check_loaded:function(ev,_140){this.tmr.mark("rss_check_end");var div=this.get_active_div(_140);if(ev.currentTarget){var pi=ev.currentTarget;}else{var pi=ev.srcElement;}if(pi.height==3&&pi.width==6){this.showTopLeftMenu(_140);if(this.cfg.shot_check==1){this.rss_toggle(null,"rss",_140);this.lower_loading_img();this.raise_shot("iframe",_140);if(this.isSafari){this.later(300,this.lower_loading_img);}}else{this.rss_toggle(null,"preview",_140);}}else{if(pi.width==1&&pi.height==2&&this.cfg.shot_check==1){this.view.time=this.now();var _143=this.shot_base+"&view_id="+this.view.id+"&goto="+encodeURIComponent(this.cfg.text.GoToURL);div.preview_img.src=this.cfg.prefix.preview+"preview"+_143+"&direct=1&sc=0";this.view.confirm=true;}else{if(pi.width==1&&pi.height==3&&this.cfg.shot_check==1){this.lower_loading_img();this.raise_shot("iframe",_140);if(this.isSafari){this.later(300,this.lower_loading_img);}}}}},preview_iframe_loaded:function(ev){this.tmr.mark("shot_iframe_end");this.lower_loading_img();},preview_img_loaded:function(ev){this.tmr.mark("preview_end");if(ev.currentTarget){var pi=ev.currentTarget;}else{var pi=ev.srcElement;}if(pi.height<10&&pi.width<10){this.view.confirm=false;}if(pi.height==3&&pi.width==6){this.lower_loading_img();this.raise_shot("iframe");if(this.isSafari){this.later(300,this.lower_loading_img);}}else{if(!pi.src.match(/\/t.gif/)){this.lower_loading_img();}if(pi.height>1&&pi.width>1&&pi.src.indexOf("&vid=nolog")==-1){this.confirm_shot_load("ps");}if(this.div.preview_img.width==274||this.div.preview_img.width==431){var _147=1;var url=this.div.preview_img.src;var _149=/retry=(\d+)/;var _14a=url.match(_149);if(_14a){_147=Number(_14a[1])+1;url=url.replace(_149,"retry="+_147);}else{url+="&retry="+_147;}if(_147>this.cfg.retry_interval.length){return;}if(_147==this.cfg.retry_interval.length){url+="&final=1";}var shot=this;var _14c=this.cfg.retry_interval[_147-1];if(this.retry_url_list[this.div.url_a.href]!=url){this.retry_url_list[this.div.url_a.href]=url;if(this.div.main.style.visibility=="visible"){this.clear_timer("retry");this.timer_id.retry=this.sto(function(){shot.div.preview_img.src=url;},_14c);}}}}},link_click:function(ev){var shot=this;var rw=false;var url=this.current_url;switch(ev.type){case "mouseup":var b=0;if(typeof (ev.which)=="number"){b=ev.which;}else{if(typeof (ev.button)=="number"){b=ev.button;}}if((this.isIE&&b==4)||(!this.isIE&&b==2)){rw=true;}break;case "click":rw=true;break;}if(rw){this.tmr.mark("click");this.tmr.log(this);var _152=this.cfg.prefix.preview+"explore/"+Math.floor((Math.random()*100000))+"/?url="+encodeURIComponent(url)+"&key="+this.cfg.key+"&src="+encodeURIComponent(this.cfg.source)+"&cp="+this.cfg.campaign;this.div.url_a.href=_152+"&tol=url";this.div.url_favicon.href=_152+"&tol=url_favicon";this.div.url_arrow.href=_152+"&tol=url_arrow";this.div.img_a.href=_152+"&tol=image";this.sto(function(){shot.div.url_a.href=shot.current_url;shot.div.url_favicon.href=shot.current_url;shot.div.url_arrow.href=shot.current_url;shot.div.img_a.href=shot.current_url;},0);}},sample:function(){var i,n,as,rates=[],as_data=[],as_len=this.cfg.auto_shot.list.length;var r=Math.random();if(this.sampled){return;}this.sampled=true;if(this.cfg.srate){if(this.cfg.srate.main>=r){rates.push("m"+this.cfg.srate.main);}if(this.cfg.auto_shot.list.length&&(this.cfg.srate.auto>=r)){rates.push("a"+this.cfg.srate.auto);}if(this.cfg.auto_shot.inspect){rates.push("i"+this.cfg.srate.inspect);for(i=0;i<as_len;i++){as=this.cfg.auto_shot.list[i];as_data.push([as.eid,as.tid,as.gfound,as.found,as.limit,as.active,as.inspect,as.testset].join(","));}}if(rates.length){n=document.createElement("img");n.src=this.cfg.prefix.image+"spl/l"+this.imp.link+"_i"+this.imp.icon+"_a"+this.imp.auto+"_al"+this.cfg.auto_shot.limit+"/"+rates.join("_")+"/"+this.cfg.key+"/"+"e"+as_data.join(":")+"_t"+this.cfg.auto_shot.timestamp+"/"+this.now()+Math.random()+"/s.gif";n.style.visibility="hidden";n.style.position="absolute";this.div.main.parentNode.insertBefore(n,this.div.main.nextSibling);}}},rollover:function(ev){this.highlight(true);},rollout:function(ev){var _157=ev.relatedTarget||ev.toElement;if(_157==null){return;}if(this.isOpera){var top=this.getTop(this.div.main);var left=this.getLeft(this.div.main);var _15a=this.getBottom(this.div.main);var _15b=this.getRight(this.div.main);var _15c=ev.pageX||(ev.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var _15d=ev.pageY||(ev.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var _15e=(_15c>left&&_15c<_15b&&_15d>top&&_15d<_15a);if(_15e){return;}}this.highlight(false);this.hide_delay(null,this.cfg.delay.hide);},title_mouseover:function(ev){this.div.url_a.style.color="#009933";},title_mouseout:function(ev){this.div.url_a.style.color="#003399";},pin:function(_161){var div=this.get_active_div(_161);this.orientation("pin",false,_161);div.pin_close_img.style.display="inline";},destroy_bubble:function(ev,_164){this.other_bubbles[_164].main.style.display="none";this.other_bubbles[_164].current_url=null;this.other_bubbles[_164].current_tag=null;this.other_bubbles[_164].main.parentNode.removeChild(this.other_bubbles[_164].main);},pin_check:function(_165){this.hideFlashOverlay();this.div.pin_close_img.style.display="none";try{try{var _166=this.current_url.split("//")[1].split("/")[0];var path=this.current_url.split("//")[1].split("/")[1];var tmp=this.current_url.split("?")[0].split(".");var _169=tmp[tmp.length-1];}catch(e){}if((_165.svc&&_165.svc.indexOf("Snap_Shot_")!=-1&&(_165.svc.indexOf("Video")!=-1||_165.svc.indexOf("Audio")!=-1))||(_166.toLowerCase().indexOf("youtube.com")!=-1&&path.indexOf("v")!=-1&&path.indexOf("view_play_list?")==-1)||(_166.toLowerCase().indexOf("video.google.com")!=-1&&path.indexOf("videoplay")!=-1)||(_166.toLowerCase().indexOf("metacafe.com")!=-1&&path.indexOf("watch")!=-1)||(_166.toLowerCase().indexOf("revver.com")!=-1&&path.indexOf("watch")!=-1)||(_166.toLowerCase().indexOf("video.xanga.com")!=-1)||(_166.toLowerCase().indexOf("photobucket.com")!=-1&&this.current_url.indexOf("action=view")!=-1)||(_166.toLowerCase().indexOf("veoh.com")!=-1&&path.indexOf("videos")!=-1)||(_166.toLowerCase().indexOf("vids.myspace.com")!=-1)||_169.toLowerCase()=="mp3"){this.showFlashOverlay();}}catch(e){}},cloneBubble:function(){var shot=this;var node=this.div.main.cloneNode(true);var body=document.getElementsByTagName("body")[0];body.insertBefore(node,this.div.main);var _16d=this.other_bubbles.length;this.other_bubbles[_16d]=new Object();this.other_bubbles[_16d].main=node;this.get_all_shot_nodes(this.other_bubbles[_16d].main,this.other_bubbles[_16d]);this.other_bubbles[_16d].current_url=this.current_url;this.other_bubbles[_16d].current_tag=this.current_tag;this.other_bubbles[_16d].current_element=this.current_element;this.other_bubbles[_16d].current_orientation=this.current_orientation;this.other_bubbles[_16d].cfg=this.cfg;var div=this.other_bubbles[_16d];this.observe(div["submit"],"click",this.form_submit,_16d);this.observe(div["box"],"keydown",this.form_submit,_16d);var box=div["box"];this.observe(box,"focus",function(ev){if(box.value===shot.cfg.text.SearchTheWeb){box.value="";}});this.observe(div.rss_check,"load",this.rss_check_loaded,_16d);var divs=div.main.getElementsByTagName("input");for(var i=0;i<divs.length;i++){if(divs[i].tagName.toLowerCase()=="input"&&divs[i].id.indexOf("box")==-1&&divs[i].id.indexOf("submit")==-1&&divs[i].id.indexOf("cancel")==-1){divs[i].type="hidden";}}div.preview_img.src=this.div.preview_img.src.replace("&nl=0","&nl=1");this.draw_bubble(_16d);div["zoom_img"].bubble_id=_16d;return _16d;},startFlash:function(){if(this.isSafari){this.div.preview.src="about:blank";}this.showDragOverlay();this.div.preview_img.src=this.cfg.prefix.cdn_image+"t.gif";this.div.rss_check.src=this.cfg.prefix.cdn_image+"t.gif";var _173=this.cloneBubble();var div=this.other_bubbles[_173];this.observe(div["drag_overlay"],"mousedown",this.dragStart,_173);this.observe(div["pin_close_img"],"click",this.destroy_bubble,_173);this.observe(div["pin_close_img"],"mouseover",this.handleMenuRoll,"pin_close_img",true,_173);this.observe(div["pin_close_img"],"mouseout",this.handleMenuRoll,"pin_close_img",false,_173);this.addMenuEvents(div,_173);var _175=div["preview"];var _176=this.shot_url;_176=_176.replace(/&vid=[^&]+&/,"&vid=nolog&");_176+="&log=0#autoplay";if(this.isSafari){if(this.div.preview){_175.src="about:blank";this.later(50,function(){_175.src=_176;});}}else{_175.contentWindow.location.replace(_176);}this.pin(_173);this.hide();},pinAndClone:function(){this.showDragOverlay();var _177=this.cloneBubble();var div=this.other_bubbles[_177];this.observe(div["drag_overlay"],"mousedown",this.dragStart,_177);this.observe(div["pin_close_img"],"click",this.destroy_bubble,_177);this.observe(div["pin_close_img"],"mouseover",this.handleMenuRoll,"pin_close_img",true,_177);this.observe(div["pin_close_img"],"mouseout",this.handleMenuRoll,"pin_close_img",false,_177);this.addMenuEvents(div,_177);this.show_shot(this.get_shot_data(this.other_bubbles[_177].current_element),_177,true);this.pin(_177);this.hide(true);},showFlashOverlay:function(){this.div.flash_overlay.style.display="";this.div.drag_overlay.style.display="";},hideFlashOverlay:function(){this.div.flash_overlay.style.display="none";this.div.drag_overlay.style.display="";},showDragOverlay:function(){this.div.flash_overlay.style.display="none";this.div.drag_overlay.style.display="";},dragStart:function(ev,_17a){var div=this.get_active_div(_17a);var cfg=this.get_active_cfg(_17a);if(_17a==null&&this.dragged_bubble!=null){return;}var shot=this;this.drag_state="start";this.dragged_bubble=_17a;this.dragStartX=this.pointerX(ev);this.dragStartY=this.pointerY(ev);div.drag_overlay.style.left=(cfg.css_pos.drag_overlay.x-300)+"px";div.drag_overlay.style.top=(cfg.css_pos.drag_overlay.y-300)+"px";div.drag_overlay.style.width=(cfg.css_pos.drag_overlay.w+600)+"px";div.drag_overlay.style.height=(cfg.css_pos.drag_overlay.h+600)+"px";this.orientation("pin",false,_17a);},dragMove:function(ev){if(this.dragged_bubble==null){var div=this.div;}else{var div=this.other_bubbles[this.dragged_bubble];}this.current_ex=this.getPageX(ev);this.current_ey=this.getPageY(ev);if(this.isOpera&&div.main.style.visibility=="visible"&&ev.target.tagName.toLowerCase()!="a"&&ev.target.className.indexOf("Snap_Shot_")==-1&&ev.target.className.indexOf("snap_preview_icon")==-1){var top=this.getTop(div.main);var left=this.getLeft(div.main);var _182=this.getBottom(div.main);var _183=this.getRight(div.main);var _184=ev.pageX||(ev.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var _185=ev.pageY||(ev.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var _186=(_184>left&&_184<_183&&_185>top&&_185<_182);if(!_186){this.hide_delay(null,this.cfg.delay.hide);}}if(this.drag_state!="start"){return;}var _187=div.main;var x=this.pointerX(ev);var y=this.pointerY(ev);x=x-this.dragStartX;y=y-this.dragStartY;var obx=_187.offsetLeft;var oby=_187.offsetTop;var _18c=obx-0+x;var _18d=oby-0+y;var _18e=-1*div.bubble.offsetLeft;if(_18c<_18e){_18c=_18e;}var _18f=-1*div.bubble.offsetTop;if(_18d<_18f){_18d=_18f;}_187.style.left=_18c+"px";_187.style.top=_18d+"px";if(_18c!=_18e){this.dragStartX=this.pointerX(ev);}if(_18d!=_18f){this.dragStartY=this.pointerY(ev);}if(!ev){var ev=window.event;}ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();}},dragStop:function(ev){if(this.drag_state!="start"){return;}this.drag_state="off";if(this.dragged_bubble==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[this.dragged_bubble];var cfg=this.other_bubbles[this.dragged_bubble].cfg;}div.drag_overlay.style.left=cfg.css_pos.drag_overlay.x+"px";div.drag_overlay.style.top=cfg.css_pos.drag_overlay.y+"px";div.drag_overlay.style.width=cfg.css_pos.drag_overlay.w+"px";div.drag_overlay.style.height=cfg.css_pos.drag_overlay.h+"px";if(this.dragged_bubble==null){div.preview_img.src=cfg.prefix.cdn_image+"t.gif";div.rss_check.src=cfg.prefix.cdn_image+"t.gif";if(this.isSafari){div.preview.src="about:blank";}this.pinAndClone();}this.dragged_bubble=null;},pointerX:function(_193){return _193.pageX||(_193.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(_194){return _194.pageY||(_194.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},form_submit:function(ev,_196){var div=this.get_active_div(_196);var _198=false;var _199="bsb";if(div.box.value===this.cfg.text.SearchTheWeb){_199=this.campaign("defaulttext");if(this.cfg.search_type!="adult"){_198=true;}}else{if(div.box.value===""){_199=this.campaign("emptybox");_198=true;}else{_199=this.campaign("bsb");}}var _19a=this.cfg.prefix.search+"?source="+encodeURIComponent(this.cfg.source)+"&campaign="+_199;if(_198){if(this.cfg.search_type=="image"){_19a+="&query=sunflower";}}else{_19a+="&query="+encodeURIComponent(div.box.value);_19a+="&spa_key="+encodeURIComponent(this.cfg.key);if(this.cfg.search_type=="adult"){_19a+="&spa_adult=1";}}var tg=(window.event)?ev.srcElement:ev.target;if(tg==div.box){var _19c=ev.keyCode;if(_19c==13){ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}location.href=_19a;}return;}else{if(tg==div.submit){window.open(_19a,"_blank");ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}return false;}}},sendPrecrawlList:function(){var _19d="?key="+this.cfg.key;for(var i=this.num_precrawl_sent;i<this.thumbnail_precrawl_list.length;i++){_19d+="&";var url=this.thumbnail_precrawl_list[i];if(typeof SNAP_COM!="undefined"&&SNAP_COM.translateURL){url=SNAP_COM.translateURL(url);}if((_19d.length+url.length)>1800){break;}_19d+="url"+(i+1)+"="+encodeURIComponent(url);}this.num_precrawl_sent=i;_19d+="&url_count="+this.thumbnail_precrawl_list.length;this.div.lg.src=this.cfg.prefix.preview+"thumbnail_precrawl.php"+_19d;if(this.num_precrawl_sent!=this.thumbnail_precrawl_list.length){this.later(1000,this.sendPrecrawlList);}},logFeatureClick:function(_1a0){this.div.lg.src=this.cfg.prefix.preview+"halo_proxy.php?feature_type="+_1a0+"&img=1&r="+this.now();},setPreviewIframeSrc:function(_1a1,_1a2){this.tmr.mark("shot_iframe_start");var div=this.get_active_div(_1a2);if(this.isSafari){if(div.preview){this.later(50,function(){div.preview.src=(_1a1);});if(this.shot_data&&!this.shot_data.is_preview){this.later(300,this.lower_loading_img);}}}else{if(div.preview.contentWindow){div.preview.contentWindow.location.replace(_1a1);}}},sto:function(func,_1a5){if(this.cfg.flavor=="xanga"){if(window.restrictedSetTimeout){return window.restrictedSetTimeout(func,_1a5);}else{return window.setTimeout(func,_1a5);}}else{return window.setTimeout(func,_1a5);}},needs_png_fix:(navigator.userAgent.match(/msie (5\.5|6)/i)&&navigator.platform=="Win32"),isFirefox:(navigator.userAgent.match(/firefox/i)),isSafari:(/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),isIE:(!this.isSafari&&!navigator.userAgent.match(/opera/gi)&&navigator.userAgent.match(/msie/gi)),isOpera:(navigator.userAgent.match(/Opera/gi)),isWin:(navigator.appVersion.match(/win/gi)),getXY:function(el){var _1a7=null;var pos=[];var box,st,sl;if(el.getBoundingClientRect){box=el.getBoundingClientRect();st=Math.max(document.documentElement.scrollTop,document.body.scrollTop);sl=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return [box.left+sl,box.top+st];}else{pos=[el.offsetLeft,el.offsetTop];_1a7=el.offsetParent;var _1aa=(this.getStyle(el,"position")=="absolute");if(_1a7!=el){while(_1a7){pos[0]+=_1a7.offsetLeft;pos[1]+=_1a7.offsetTop;if(this.isSafari&&!_1aa&&(this.getStyle(_1a7,"position")=="absolute")){_1aa=true;}_1a7=_1a7.offsetParent;}}if(this.isSafari&&_1aa){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}return pos;},getPageX:function(ev){var x=ev.pageX;if(!x&&0!==x){x=ev.clientX||0;if(this.isIE){x+=this._getScrollLeft();if(document.body.clientLeft){x-=document.body.clientLeft;}}}return x;},getPageY:function(ev){var y=ev.pageY;if(y&&document.body.style&&this.getStyle(document.body,"position")=="relative"){y-=10;}if(!y&&0!==y){y=ev.clientY||0;if(this.isIE){y+=this._getScrollTop();if(document.body.clientTop){y-=document.body.clientTop;}}}return y;},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var dd=document.documentElement,db=document.body;if(dd&&(dd.scrollTop||dd.scrollLeft)){return [dd.scrollTop,dd.scrollLeft];}else{if(db){return [db.scrollTop,db.scrollLeft];}else{return [0,0];}}},getViewportHeight:function(){var _1b0=-1;var mode=document.compatMode;if((mode||this.isIE)&&!this.isOpera){if(mode==="CSS1Compat"){_1b0=document.documentElement.clientHeight;}else{_1b0=document.body.clientHeight;}}else{_1b0=self.innerHeight;}return _1b0;},getViewportWidth:function(){var _1b2=-1;var mode=document.compatMode;if(mode||this.isIE){if(mode==="CSS1Compat"){_1b2=document.documentElement.clientWidth;}else{_1b2=document.body.clientWidth;}}else{_1b2=self.innerWidth;}return _1b2;},getWidth:function(_1b4){var _1b5=parseInt(_1b4.offsetWidth);if(_1b4==document.body||_1b4==document||_1b4==window){return window.getWidth();}else{if(_1b4){var _1b5=parseInt(_1b4.offsetWidth);return (_1b5==0)?parseInt(_1b4.style.width):_1b5;}else{return null;}}},getHeight:function(_1b6){if(_1b6==document.body||_1b6==document||_1b6==window){return window.getHeight();}else{if(_1b6){var _1b7=parseInt(_1b6.offsetHeight);return (_1b7==0)?parseInt(_1b6.style.height):_1b7;}else{return null;}}},getLeft:function(_1b8){return _1b8.offsetLeft;},getRight:function(_1b9){return this.getLeft(_1b9)+this.getWidth(_1b9);},getTop:function(_1ba){return _1ba.offsetTop;},getBottom:function(_1bb){return this.getTop(_1bb)+this.getHeight(_1bb);},trim:function(str){return str.replace(/^\s*|\s*$/g,"");},getStyle:function(el,_1be){return el.style[_1be];},getStyleW3C:function(el,_1c0){var _1c1=null;if(_1c0=="float"){_1c0="cssFloat";}var _1c2=(document.defaultView)?document.defaultView.getComputedStyle(el,""):null;if(_1c2){_1c1=_1c2[_1c0];}return el.style[_1c0]||_1c1;},getStyleIE:function(el,_1c4){switch(_1c4){case "opacity":var val=100;try{val=el.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(e){try{val=el.filters("alpha").opacity;}catch(e){}}return val/100;break;case "float":_1c4="styleFloat";default:var _1c6=el.currentStyle?el.currentStyle[_1c4]:null;return (el.style[_1c4]||_1c6);}},AC_AddExtension:function(src,ext){if(src.indexOf("?")!=-1){return src.replace(/\?/,ext+"?");}else{return src+ext;}},AC_Generateobj:function(_1c9,_1ca,_1cb){var str="";if(this.isIE&&this.isWin&&!this.isOpera){str+="<object ";for(var i in _1c9){str+=i+"=\""+_1c9[i]+"\" ";}str+=">";for(var i in _1ca){str+="<param name=\""+i+"\" value=\""+_1ca[i]+"\" /> ";}str+="</object>";}else{str+="<embed ";for(var i in _1cb){str+=i+"=\""+_1cb[i]+"\" ";}str+="> </embed>";}return (str);},AC_FL_RunContent:function(){var ret=this.AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");return this.AC_Generateobj(ret.objAttrs,ret.params,ret.embedAttrs);},AC_GetArgs:function(args,ext,_1d1,_1d2,_1d3){var ret=new Object();ret.embedAttrs=new Object();ret.params=new Object();ret.objAttrs=new Object();for(var i=0;i<args.length;i=i+2){var _1d6=args[i].toLowerCase();switch(_1d6){case "classid":break;case "pluginspage":ret.embedAttrs[args[i]]=args[i+1];break;case "src":case "movie":args[i+1]=this.AC_AddExtension(args[i+1],ext);ret.embedAttrs["src"]=args[i+1];ret.params[_1d1]=args[i+1];break;case "onafterupdate":case "onbeforeupdate":case "onblur":case "oncellchange":case "onclick":case "ondblclick":case "ondrag":case "ondragend":case "ondragenter":case "ondragleave":case "ondragover":case "ondrop":case "onfinish":case "onfocus":case "onhelp":case "onmousedown":case "onmouseup":case "onmouseover":case "onmousemove":case "onmouseout":case "onkeypress":case "onkeydown":case "onkeyup":case "onload":case "onlosecapture":case "onpropertychange":case "onreadystatechange":case "onrowsdelete":case "onrowenter":case "onrowexit":case "onrowsinserted":case "onstart":case "onscroll":case "onbeforeeditfocus":case "onactivate":case "onbeforedeactivate":case "ondeactivate":case "type":case "codebase":case "id":ret.objAttrs[args[i]]=args[i+1];break;case "width":case "height":case "align":case "vspace":case "hspace":case "class":case "title":case "accesskey":case "name":case "tabindex":ret.embedAttrs[args[i]]=ret.objAttrs[args[i]]=args[i+1];break;default:ret.embedAttrs[args[i]]=ret.params[args[i]]=args[i+1];}}ret.objAttrs["classid"]=_1d2;if(_1d3){ret.embedAttrs["type"]=_1d3;}return ret;},Rescan:function(_1d7){if(_1d7===null){return;}if(this.div_added){this.shot_scan(_1d7);}}};t.init();return t;};if(SNAP_COM.shot_config.version=="3.18"){SNAP_COM.shot=SNAP_COM.snap_shot_obj();}else{SNAP_COM.vmiss=document.createElement("img");SNAP_COM.vmiss.src="http://shots.snap.com/vmis.php?vcfg="+SNAP_COM.shot_config.version+"&vjs=3.18";SNAP_COM.vmiss.style.positions="absolute";SNAP_COM.vmiss.style.visibility="hidden";}